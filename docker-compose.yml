services:
  # --- Servicio 1: Tu API Flask ---
  web:
    build: . # Construye usando el Dockerfile del directorio actual
    container_name: flask_api_prod
    restart: always # Si falla, intenta reiniciarse autom√°ticamente
    ports:
      - "5000:5000"
    env_file:
      - .env # Inyecta las variables de entorno desde el archivo
    environment:
      - DB_HOST=localhost # Conecta a la base de datos del sistema host
    network_mode: host # Usa la red del host para acceder a la BD local
